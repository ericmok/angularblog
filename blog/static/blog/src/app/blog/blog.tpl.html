<div ng-controller="BlogCtrl">
	
	<div class="col-xs-12 blog-description"> 
        <div ng-switch on="isBootstrapping">
            <div ng-switch-when="true">
                <img src="/static/blog/assets/loader.gif" />
            </div>
            <div ng-switch-when="false">
                <h2>{{blog.title}}</h2>
                <section>
                    <h4>{{blog.description}}</h4>
                    <button class="btn btn-primary" ng-click="makePost()">Make a Post</button>
                    <button class="btn btn-primary" ng-if="canEditBlog()" ng-click="editBlog()">Edit Description</button>
                </section>  
            </div>
        </div>
	</div>
	
	<div style="clear: both;"></div>

	<div class="col-md-7">

            <div ng-if="posts.results.length < 1">
                <h3>This blog has no posts yet.</h3>
            </div>
        
			<div class="well well-sm" ng-if="posts.results.length > 0">
				<article class="post" ng-repeat="post in posts.results">
					<header>
						<hgroup>
							<a href="#/post/{{post.id}}">
								<h3>
									{{post.title}}
								</h3>
							</a>
							<h5>{{post.author}} on [ {{post.parent_content_type}} / {{post.parent_id}} ]</h5>
						</hgroup>
					</header>
					<p ng-repeat="para in post.content.paragraphs">
						<span ng-if="para.ordering == 1">
							<span class="sentence" ng-repeat="sent in para.sentences" ng-if="sent.ordering < 2">
								{{sent.text}}
							</span>
						</span>
					</p>

					<footer ng-if="post.content.paragraphs.length > 1" style="text-align: center; font-weight: bolder;">
						<a href="#/post/{{post.id}}">Read More...</a>					
					</footer>
				</article>
			</div>
			
			<div style="clear: both;"></div>
	</div>

	<div class="col-md-5">
		<login-form></login-form>
	</div>

	<div style="clear: both;"></div>
</div>